#my-panel #MainDisplay {
    display: flex;
    flex-direction: column; /* Stack elements vertically */
    gap: 8px; /* Optional spacing between elements */
    padding: 8px; /* Optional padding inside panel */
    box-sizing: border-box;
    width: 100%;
}

/* Button group container: arrange buttons in two vertical columns beneath
   the status label. The grid will flow items row-wise so items appear in
   two columns (column 1 item1, column2 item2, column1 item3, ...). The
   `.debug-group` is forced to span both columns and appear as a full-width
   row beneath the buttons. */
/* Controls row: left knob, center button grid, right knob */
#my-panel #MainDisplay .controls-row {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 12px;
}

/* Left and right knob containers keep fixed size and do not grow */
#my-panel #MainDisplay .left-knob,
#my-panel #MainDisplay .right-knob {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
}

/* Center area holds the grid of buttons arranged into two rows */
#my-panel #MainDisplay .center-buttons {
    flex: 1 1 auto;
}

#my-panel #MainDisplay .center-buttons .cust-panel-btn-group {
    display: grid;
    grid-auto-flow: column; /* fill column-wise so we get two rows */
    grid-template-rows: repeat(2, auto);
    grid-auto-columns: max-content;
    gap: 8px 12px;
    align-items: start;
}

/* Each button parent stays fixed-size */
#my-panel #MainDisplay .cust-panel-btn-parent {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
    width: auto;
    margin: 0;
}

/* Debug log container takes full width beneath the controls row */
#my-panel #MainDisplay .debug-group {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 6px;
    margin-top: 8px;
}

/* Make the custom push-button compact like an autopilot control */
#my-panel #MainDisplay new-push-button.cust-panel-btn,
#my-panel #MainDisplay .cust-panel-btn-parent new-push-button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 70px;            /* compact square-ish button */
    height: 30px;
    min-width: 60px;
    min-height: 30px;
    padding: 2px 2px;
    margin: 5px 1px;
    font-size: smaller;     /* slightly smaller label text */
    box-sizing: border-box;
    border-radius: 3px;
    background: linear-gradient(#555555, #181818);
}

/* Keep inputs and textarea full width where appropriate (debug log) */
#my-panel #MainDisplay textarea,
#my-panel #MainDisplay input {
    width: 100%; /* Stretch to full width for text inputs */
    box-sizing: border-box;
}

/* Labels: left-align the autopilot status label and debug label */
#my-panel #MainDisplay label {
    margin-bottom: 4px; /* Space between label and field */
    font-size: 0.9em; /* Optional smaller label text */
    text-align: left;
}

/* 7-segment / fixed-width display for the AP status.  
   To get an authentic KAP-140 look, drop a 7-segment-style font into
   the `fonts/` folder next to this CSS (suggested names below). Example:
     Community/autopilot-panel/html_ui/InGamePanels/autopilot-panel/fonts/digital-7.woff2

   Recommended fonts (not bundled here):
   - "Digital-7" (commonly distributed as Digital-7.ttf/woff)
   - "DS-Digital" (popular 7-seg style font)

   This rule will use the local font if present, otherwise fall back to
   a monospaced system font. `white-space: pre` preserves spacing so the
   fixed-width columns line up; `font-variant-numeric: tabular-nums`
   helps numbers use fixed-width digits.
*/

@font-face {
    font-family: 'Digital-7';
    /* Try TTF first (MSFS may prefer TTF), then woff2 as fallback.
       Paths are absolute from html_ui/ root. */
    src: url('/InGamePanels/autopilot-panel/fonts/digital-7.ttf') format('truetype'),
         url('/InGamePanels/autopilot-panel/fonts/digital-7.woff2') format('woff2');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
}

#my-panel #MainDisplay #ap-text-label {
    width: 100%;
    text-align: left;
    min-width: 100%;
    min-height: 80px;
    /* Prefer embedded Digital-7 if loaded, fallback to Consolas (built-in MSFS),
       then Courier New, then system monospace */
    font-family: Consolas, 'Courier New', 'Digital-7',  monospace;
    font-weight: 700;
    font-size: 38px;           /* adjust if you want larger/smaller digits */
    box-sizing: border-box;
    line-height: 1.2;
    white-space: pre;          /* preserve spacing for monospaced columns */
    color: palevioletred;
    border: 5px solid rgba(0,0,0,0.6);
    background: #181818;
    font-variant-numeric: tabular-nums; /* prefer fixed-width numerals */
    letter-spacing: 0.02em;    /* slight spacing tweak for readability */
}

/* Knob style: make elements with id `btnHDGSel` circular and larger to resemble
   a rotating knob. There are two occurrences of this id in the HTML; the selector
   will apply to both. Knob diameter chosen as double the push-button width (44px -> 88px). */
/* Knob selectors: apply same large circular style to both HDG BUG and ALT SEL knobs */
#my-panel #MainDisplay new-push-button#btnHDGSel.cust-panel-btn,
#my-panel #MainDisplay new-push-button#btnAltSel.cust-panel-btn,
#my-panel #MainDisplay .cust-panel-btn-parent new-push-button#btnHDGSel,
#my-panel #MainDisplay .cust-panel-btn-parent new-push-button#btnAltSel {
    width: 80px;            /* double the standard push-button width */
    height: 80px;           /* make it square so border-radius:50% yields a circle */
    min-width: 80px;
    min-height: 80px;
    padding: 6px;
    margin: 2px 2px;
    font-size: smaller;
    border-radius: 50%;     /* circle */
    display: inline-flex;
    align-items: center;
    justify-content: center;
    box-sizing: border-box;
    border: 6px solid rgba(0,0,0,0.6);
    background: linear-gradient(#555555, #181818);
    text-align: center;
}

/* Slight visual tweak so the larger knob doesn't push other controls out of alignment */
#my-panel #MainDisplay .cust-panel-btn-parent {
    vertical-align: middle;
}

/* -------------------------------------------------------------------------- */
/* MSFS template buttons render natively; fallback styles removed. */

#my-panel #MainDisplay .hdg-indicator {
    position: absolute;
    width: 0;
    height: 0;
    border-left: 4px solid transparent;
    border-right: 4px solid transparent;
    border-bottom: 8px solid lightgray;
    top: 0%;
    left: 40px;
    transform-origin: 50% calc(50% + 36px);
    transform: rotate(0deg);
    pointer-events: none;
}

#my-panel #MainDisplay new-push-button#btnAltSel.active {
    background: linear-gradient(#707070, #303030);
}

#my-panel #MainDisplay new-push-button[activated="true"].cust-panel-btn {
    background: linear-gradient(#707070, #303030);
    border: 2px solid green !important;
    color: green
}


#my-panel #MainDisplay new-push-button#btnLVL.cust-panel-btn {
        border: 4px solid rgb(37, 106, 255);
}

#my-panel-frame {
    display: inline-block !important;
    padding: 0 !important;
    margin: 0 !important;
    height: 100%;
    max-height: 100%;
}

#MainDisplay {
    flex: 1 1 auto; /* allow shrinking */
    height: auto;   /* optional */
    overflow: hidden; /* avoids scrollbars fighting the resize UI */
    padding-bottom: 3;
}

#my-panel #MainDisplay .creditline {
    font-size: xx-small;
}

.cust-panel-btn-group {
    grid-template-columns: repeat(5, max-content) !important;
    grid-auto-flow: unset;
    grid-auto-columns: unset;
}